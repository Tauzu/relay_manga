{% extends "base.html" %}
{% load static %}

{% block title %}„Éö„Éº„Ç∏„Éì„É•„Éº„ÉØ„Éº{% endblock %}

{% block content %}
<div class="max-w-5xl mx-auto bg-white rounded-lg shadow p-6">

    <!-- üîπ „Çø„Ç§„Éà„É´ -->
    <div id="viewer-title" class="text-lg font-semibold text-gray-800 mb-4"></div>

    <!-- üìÑ ÁîªÂÉèË°®Á§∫„Ç®„É™„Ç¢ -->
    <div class="relative flex items-center justify-center">
    <button id="prev-btn"
            class="absolute left-0 ml-4 bg-gray-100 enabled:hover:bg-gray-200 rounded-full p-3 shadow transition disabled:opacity-40"
            title="Ââç„ÅÆ„Éö„Éº„Ç∏„Å∏">
        <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
        </svg>
    </button>

    <img id="viewer-image"
        src=""
        alt="Page image"
        class="object-contain w-[600px] h-[600px] border rounded shadow-md transition-all duration-500 ease-in-out opacity-100" />

    <button id="next-btn"
            class="absolute right-0 mr-4 bg-gray-100 enabled:hover:bg-gray-200 rounded-full p-3 shadow transition disabled:opacity-40"
            title="Ê¨°„ÅÆ„Éö„Éº„Ç∏„Å∏">
        <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
        </svg>
    </button>
    </div>

    <!-- ‚ù§Ô∏è „ÅÑ„ÅÑ„Å≠ -->
    <div class="flex justify-center items-center gap-4 mt-6">
        <form id="like-form" method="post">
        {% csrf_token %}
        <button type="submit" id="like-button"
                class="flex items-center gap-2 px-6 py-2 rounded-lg bg-blue-500 text-white font-semibold hover:bg-blue-600 transition disabled:bg-gray-400">
            üëç „ÅÑ„ÅÑ„Å≠
        </button>
        </form>
        <span class="text-gray-700 text-lg flex items-center gap-1">
        ‚ù§Ô∏è <span id="like-count"></span>
        </span>
    </div>

</div>

<script>
window.viewerData = {
    pages: {{ pages_json|safe }},
    csrfToken: "{{ csrf_token }}"
};
</script>

<script src="{% static 'manga/viewer.js' %}"></script>
{% endblock %}
